{% extends 'base.html' %}
{% block content %}

<div class="budget">
  <div class="flex-2-col">
    <h1 class="accent-h1">$528</h1>
    <div>
      <h5>$1692 spent</h5>
      <h5>August 15 - September 15</h5>
    </div>
  </div>
  <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
    <div class="progress-bar w-75"></div>
  </div>
</div>
<div class="expenses">
  <div class="expenses-btn-container">
    <h3>Expenses</h3>
    <form action="{% url 'expenses_create' %}" class="add-expense-btn">
      <button type="submit" class="btn btn-primary btn-sm">+</button>
    </form>
  </div>
  <div class="table-responsive small">
    <table class="table table-striped table-sm expense-table">
      <thead>
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Title</th>
          <th scope="col">Amount</th>
          <th scope="col">Category</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for expense in expenses %}
        <tr>
          <td>{{ expense.date }}</td>
          <td>{{ expense.title }}</td>
          <td>{{ expense.amount }}</td>
          <td><span class="category c-1">{{ expense.category }}</span></td>
          <td><a href="{% url 'detail' expense.id %}">Details</a></td>
        </tr>
        </a>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<div class="categories">
  <h3>Expenses by Categories</h3>

  <tbody>
    {% for category_expense in category_expenses %}
        <tr>
            <td>{{ category_expense.title }}</td>
            <td><i class="fa-solid {{ category_expense.icon }}" style="color: #7c8492;"></i></td>
            <td>{{ category_expense.total_expenses}}</td>
            <a href="{% url 'categories_detail' category_expense.id %}">Details</a>
        </tr>
    {% endfor %}
  </tbody>
</div>

{% endblock %}